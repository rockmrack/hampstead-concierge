# =============================================================================
# HAMPSTEAD CONCIERGE v5 COMPLETE EDITION - ENVIRONMENT CONFIGURATION
# =============================================================================
# UK-Optimized AI Voice Assistant for Hampstead Renovations
# All phone numbers use UK format (+44), timezone Europe/London
# =============================================================================

# -----------------------------------------------------------------------------
# VAPI.AI CONFIGURATION (EU Region)
# Get your API key from: https://vapi.ai/dashboard
# -----------------------------------------------------------------------------
VAPI_API_KEY=your_vapi_api_key_here
VAPI_ASSISTANT_ID=your_assistant_id_here
VAPI_REGION=eu-west-1

# -----------------------------------------------------------------------------
# OPENAI CONFIGURATION
# Get your API key from: https://platform.openai.com/api-keys
# v5 uses GPT-4o-mini for speed + cost efficiency
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=200
OPENAI_TEMPERATURE=0.3

# -----------------------------------------------------------------------------
# ELEVENLABS CONFIGURATION (UK Voice)
# Get your API key from: https://elevenlabs.io/speech-synthesis
# Using eleven_flash_v2_5 for <500ms response
# -----------------------------------------------------------------------------
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
ELEVENLABS_VOICE_ID=your_sarah_voice_id_here
ELEVENLABS_MODEL=eleven_flash_v2_5
ELEVENLABS_STABILITY=0.45
ELEVENLABS_SIMILARITY=0.78

# -----------------------------------------------------------------------------
# TWILIO CONFIGURATION (UK)
# Get credentials from: https://console.twilio.com
# Phone number must be UK format (+44)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+442012345678
TWILIO_SENDER_ID=HampsteadReno

# NEW v5: SMS Confirmation Settings
TWILIO_SMS_ENABLED=true
TWILIO_SMS_TEMPLATE="Hi {name}! Thanks for calling Hampstead Renovations. Ross will call you back within {timeframe}. Questions? Text us or WhatsApp Ross directly at {ross_mobile}. - Sarah (AI Assistant)"

# -----------------------------------------------------------------------------
# WHATSAPP BUSINESS API (UK)
# Meta Business API credentials
# -----------------------------------------------------------------------------
WHATSAPP_BUSINESS_ID=your_business_id_here
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id_here
WHATSAPP_ACCESS_TOKEN=your_access_token_here
WHATSAPP_VERIFY_TOKEN=your_verify_token_here

# NEW v5: WhatsApp Quick Actions
WHATSAPP_QUICK_ACTIONS_ENABLED=true
WHATSAPP_ACTION_CALL_NOW=Call customer now
WHATSAPP_ACTION_LATER=Call back later
WHATSAPP_ACTION_SPAM=Mark as spam

# -----------------------------------------------------------------------------
# ROSS'S CONTACT DETAILS
# Primary contractor - receives all notifications
# -----------------------------------------------------------------------------
ROSS_MOBILE=+447459345456
ROSS_EMAIL=ross@hampsteadrenovations.co.uk
ROSS_BUSINESS_HOURS_START=08:00
ROSS_BUSINESS_HOURS_END=18:00
ROSS_TIMEZONE=Europe/London

# -----------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# Get credentials from: https://app.supabase.com
# Ensure database is in EU region for GDPR
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# -----------------------------------------------------------------------------
# MAKE.COM CONFIGURATION (EU1 Region)
# Get webhook URLs from: https://eu1.make.com
# -----------------------------------------------------------------------------
MAKE_REGION=eu1
MAKE_WEBHOOK_URL=https://hook.eu1.make.com/your_webhook_id
MAKE_SMS_WEBHOOK_URL=https://hook.eu1.make.com/your_sms_webhook_id
MAKE_CALENDAR_WEBHOOK_URL=https://hook.eu1.make.com/your_calendar_webhook_id
MAKE_ANALYTICS_WEBHOOK_URL=https://hook.eu1.make.com/your_analytics_webhook_id

# -----------------------------------------------------------------------------
# NEW v5: GOOGLE CALENDAR INTEGRATION
# For appointment booking feature
# Get credentials from: https://console.developers.google.com
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALENDAR_ID=your_calendar_id@group.calendar.google.com
GOOGLE_REFRESH_TOKEN=your_refresh_token_here

# Appointment Settings (UK timezone)
APPOINTMENT_DEFAULT_DURATION=60
APPOINTMENT_BUFFER_MINUTES=30
APPOINTMENT_AVAILABLE_DAYS=Monday,Tuesday,Wednesday,Thursday,Friday,Saturday
APPOINTMENT_START_HOUR=09:00
APPOINTMENT_END_HOUR=17:00

# -----------------------------------------------------------------------------
# NEW v5: ANALYTICS CONFIGURATION
# Tracking and reporting settings
# -----------------------------------------------------------------------------
ANALYTICS_ENABLED=true
ANALYTICS_DAILY_REPORT_ENABLED=true
ANALYTICS_REPORT_EMAIL=ross@hampsteadrenovations.co.uk
ANALYTICS_RETENTION_DAYS=365

# Quality Scoring Thresholds
QUALITY_SCORE_EXCELLENT=85
QUALITY_SCORE_GOOD=70
QUALITY_SCORE_ACCEPTABLE=50

# -----------------------------------------------------------------------------
# NEW v5: MULTI-LANGUAGE SUPPORT
# Polish and Spanish speaking customers
# -----------------------------------------------------------------------------
MULTILANG_ENABLED=true
MULTILANG_POLISH_RESPONSE="Dziękuję za telefon. Ross oddzwoni do Pana/Pani wkrótce."
MULTILANG_SPANISH_RESPONSE="Gracias por llamar. Ross le devolverá la llamada pronto."
MULTILANG_FALLBACK_TO_ENGLISH=true

# -----------------------------------------------------------------------------
# NEW v5: AFTER-HOURS CONFIGURATION
# UK business hours and bank holiday handling
# -----------------------------------------------------------------------------
AFTER_HOURS_ENABLED=true
AFTER_HOURS_MESSAGE="Ross is currently unavailable. I can take a detailed message and he'll call you first thing tomorrow, or you can leave a voicemail."
AFTER_HOURS_VOICEMAIL_ENABLED=true

# UK Bank Holidays API
UK_BANK_HOLIDAYS_API=https://www.gov.uk/bank-holidays.json

# Emergency handling (urgent structural issues)
EMERGENCY_KEYWORDS=flood,flooding,leak,leaking,burst,collapse,dangerous,urgent,emergency
EMERGENCY_TRANSFER_ENABLED=true

# -----------------------------------------------------------------------------
# SERVICE AREA CONFIGURATION (LONDON NW)
# Postcodes served by Hampstead Renovations
# -----------------------------------------------------------------------------
SERVICE_POSTCODES=NW3,NW6,NW8,NW11,N2,N6,NW1,NW2,NW5
SERVICE_AREA_NAME=Hampstead and surrounding areas

# -----------------------------------------------------------------------------
# DEEPGRAM CONFIGURATION (Speech-to-Text)
# UK English model with vocabulary boosting
# -----------------------------------------------------------------------------
DEEPGRAM_API_KEY=your_deepgram_api_key_here
DEEPGRAM_MODEL=nova-2
DEEPGRAM_LANGUAGE=en-GB
DEEPGRAM_ENDPOINTING_MS=250

# UK-specific vocabulary boost
DEEPGRAM_KEYWORDS=Hampstead,NW3,ensuite,en-suite,refurb,refurbishment,builder,loft conversion,planning permission,listed building

# -----------------------------------------------------------------------------
# PERFORMANCE SETTINGS (v5 COMPLETE)
# Ultra-optimized for sub-1s response times
# -----------------------------------------------------------------------------
RESPONSE_TIMEOUT_MS=5000
MAX_RETRIES=2
CIRCUIT_BREAKER_THRESHOLD=3
CACHE_TTL_SECONDS=300
SEMANTIC_CACHE_ENABLED=true

# Parallel Processing
PARALLEL_WEBHOOKS_ENABLED=true
CONCURRENT_REQUESTS_MAX=5

# -----------------------------------------------------------------------------
# QUALITY ASSURANCE
# v5 empathy and confirmation requirements
# -----------------------------------------------------------------------------
EMPATHY_ENGINE_ENABLED=true
PHONE_CONFIRMATION_REQUIRED=true
SPELLING_CONFIRMATION_ENABLED=true
QUALITY_GATE_THRESHOLD=70

# -----------------------------------------------------------------------------
# LOGGING AND MONITORING
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DESTINATION=supabase

# Error notifications
ERROR_NOTIFICATION_ENABLED=true
ERROR_NOTIFICATION_CHANNEL=whatsapp

# -----------------------------------------------------------------------------
# GDPR AND UK DATA PROTECTION
# Required for UK/EU compliance
# -----------------------------------------------------------------------------
GDPR_CONSENT_REQUIRED=true
DATA_RETENTION_DAYS=730
DATA_ANONYMIZATION_ENABLED=true
CALL_RECORDING_DISCLOSURE=true

# Privacy notice URL
PRIVACY_POLICY_URL=https://hampsteadrenovations.co.uk/privacy
