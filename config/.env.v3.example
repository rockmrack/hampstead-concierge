# ============================================
# HAMPSTEAD CONCIERGE v3.0 - ENVIRONMENT CONFIG
# ============================================
# 10x Performance Optimized Edition
# Copy to .env and fill in your values

# ============================================
# TWILIO CONFIGURATION
# ============================================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+442081234567
TWILIO_SIP_DOMAIN=hampstead.sip.twilio.com
TWILIO_WEBHOOK_URL=https://api.vapi.ai/twilio/inbound_call

# ============================================
# VAPI.AI CONFIGURATION (v3 Optimized)
# ============================================
VAPI_API_KEY=your_vapi_api_key
VAPI_ASSISTANT_ID=your_assistant_id
VAPI_SERVER_URL=https://hook.eu1.make.com/your-webhook-id
VAPI_REGION=eu-west-1
# Performance: Use eu-west-1 for <300ms latency in UK
VAPI_MODEL_CACHE_ENABLED=true
VAPI_STREAMING_LATENCY=4

# ============================================
# OPENAI CONFIGURATION (v3 Optimized)
# ============================================
OPENAI_API_KEY=sk-your_openai_api_key
# Use gpt-4o-mini for 3x faster responses
OPENAI_MODEL=gpt-4o-mini
OPENAI_FALLBACK_MODEL=gpt-4o
OPENAI_MAX_TOKENS=250
# Lower temperature = more consistent, faster
OPENAI_TEMPERATURE=0.4

# ============================================
# ELEVENLABS CONFIGURATION (v3 Optimized)
# ============================================
ELEVENLABS_API_KEY=your_elevenlabs_api_key
# eleven_flash_v2_5 = 50% faster than turbo
ELEVENLABS_VOICE_ID=EXAVITQu4vr4xnSDxMaL
ELEVENLABS_MODEL_ID=eleven_flash_v2_5
ELEVENLABS_STABILITY=0.45
ELEVENLABS_SIMILARITY=0.78
ELEVENLABS_STYLE=0.05
ELEVENLABS_SPEAKER_BOOST=true
ELEVENLABS_OPTIMIZE_LATENCY=4

# ============================================
# DEEPGRAM CONFIGURATION (v3 Optimized)
# ============================================
DEEPGRAM_API_KEY=your_deepgram_api_key
DEEPGRAM_MODEL=nova-2
DEEPGRAM_LANGUAGE=en-GB
# Faster endpointing for quicker turn-taking
DEEPGRAM_ENDPOINTING=300
DEEPGRAM_INTERIM_RESULTS=true
DEEPGRAM_VAD_EVENTS=true
DEEPGRAM_UTTERANCE_END_MS=1000

# ============================================
# MAKE.COM CONFIGURATION (v3 Optimized)
# ============================================
MAKE_WEBHOOK_URL=https://hook.eu1.make.com/your-webhook-id
MAKE_SPAM_WEBHOOK_URL=https://hook.eu1.make.com/your-spam-webhook
MAKE_ANALYTICS_WEBHOOK_URL=https://hook.eu1.make.com/your-analytics-webhook
MAKE_SCENARIO_ID=your_scenario_id
# Use EU1 region for lowest latency
MAKE_REGION=eu1

# ============================================
# WHATSAPP CONFIGURATION
# ============================================
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id
WHATSAPP_ACCESS_TOKEN=your_access_token
WHATSAPP_ROSS_NUMBER=447459345456
WHATSAPP_OFFICE_NUMBER=447459345456
# Use templates for faster delivery
WHATSAPP_USE_TEMPLATES=true

# ============================================
# SUPABASE CONFIGURATION
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_key
# Connection pooling for speed
SUPABASE_POOL_SIZE=10

# ============================================
# BUSINESS CONFIGURATION
# ============================================
BUSINESS_NAME=Hampstead Renovations
BUSINESS_ADDRESS=250 Finchley Road, London
DIRECTOR_NAME=Ross
DIRECTOR_MOBILE=+447459345456
OFFICE_EMAIL=office@hampsteadrenovations.com
# Extended service areas
SERVICE_AREAS=NW3,NW6,NW8,NW11,NW1,NW2,NW5,N2,N6,N10

# ============================================
# PERFORMANCE SETTINGS
# ============================================
# Response latency target in ms
TARGET_LATENCY_MS=300
# Max call duration (8 mins - most calls <3 mins)
MAX_CALL_DURATION_SECONDS=480
# Silence timeout (20 secs - faster hang-up)
SILENCE_TIMEOUT_SECONDS=20
# Function call timeout
FUNCTION_TIMEOUT_SECONDS=8
# Spam call max duration
SPAM_CALL_MAX_SECONDS=10

# ============================================
# FEATURE FLAGS (v3)
# ============================================
ENABLE_SEMANTIC_CACHING=true
ENABLE_PARALLEL_WEBHOOKS=true
ENABLE_DEDUPLICATION=true
ENABLE_LEAD_SCORING=true
ENABLE_VOICE_FALLBACK=true
ENABLE_ANALYTICS=true
ENABLE_SPAM_BLOCKING=true
ENABLE_RATE_LIMITING=true
ENABLE_HEALTH_MONITORING=true
DEBUG_MODE=false

# ============================================
# CACHING & OPTIMIZATION
# ============================================
CACHE_TTL_SECONDS=300
WEBHOOK_RETRY_MAX=3
WEBHOOK_RETRY_DELAY_MS=1000
RATE_LIMIT_WHATSAPP_PER_MIN=30
RATE_LIMIT_EMAIL_PER_MIN=10

# ============================================
# MONITORING & ALERTING
# ============================================
ALERT_ON_CONSECUTIVE_FAILURES=3
HEALTH_CHECK_INTERVAL_MINUTES=5
LOG_LEVEL=info
METRICS_ENABLED=true
